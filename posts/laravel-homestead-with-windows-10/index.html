<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Win10 使用 Laravel Homestead 碰到的一些问题</title>
<meta name="keywords" content="珊瑚礁上的程序员, laravel homestead, windows 10" />
<meta name="generator" content="Org Mode" />
<link rel="icon" href="https://demokn.github.io/blog/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://demokn.github.io/blog/assets/lib/twitter-bootstrap/4.4.1/bootstrap.min.css">
<link rel="stylesheet" href="https://demokn.github.io/blog/assets/lib/font-awesome/5.12.1/all.min.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=ZCOOL+KuaiLe|Amaranth|Handlee|Libre+Baskerville|Bree+Serif|Ubuntu+Mono|Pacifico&subset=latin,greek"/>
<link rel="stylesheet" href="https://demokn.github.io/blog/assets/css/site.css">
<link rel="stylesheet" href="https://demokn.github.io/blog/assets/css/highlight.css">
</head>
<body>
<div class="content-wrapper container">
<div class="row">
<div class="col-lg-8 col-md-10 mx-auto">

<div id="preamble" class="status">
<div class="banner">
  <a href="/" style="font-family: 'ZCOOL KuaiLe', cursive;"> 珊瑚礁上的程序员 </a>
</div>
<ul class="banner-links">
  <li><a href="https://demokn.github.io/blog/posts/archive.html"> Archive </a></li>
  <li><a href="https://demokn.github.io/blog/posts/rss.xml"> RSS </a></li>
  <li><a href="https://demokn.github.io/blog/about.html"> About </a></li>
</ul>
<hr>
</div>
<div id="article" class="content">
<header>
<h1 class="title">Win10 使用 Laravel Homestead 碰到的一些问题</h1>
<p class="subtitle" role="doc-subtitle">发布于 2020-10-28</p>
</header><p>
Windows 上一直都是使用 <a href="https://laravel.com/docs/homestead">laravel homestead</a> 进行本地开发。
把使用中碰到的一些问题记录一下。
</p>

<section id="outline-container-org63cb444" class="outline-2">
<h2 id="org63cb444"><code>Homestead.yaml</code> 中指定 <code>authorize</code> 和 <code>keys</code> 未生效</h2>
<div class="outline-text-2" id="text-org63cb444">
<p>
示例中的配置如下:
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">authorize</span>: ~/.ssh/id_rsa.pub

<span class="org-variable-name">keys</span>:
  - ~/.ssh/id_rsa
</pre>
</div>

<p>
首先明确指定的这两个公钥和秘钥文件确实是存在的，但在执行 <code>vagrant up</code> 时，却始终无法生效，SSH 认证无法通过。
虽然可以通过用户名和密码的方式登入，再手动操作，但毕竟是不方便，况且还有我这无处安放的求知欲“我明明指定了，你为什么不生效”。
经过一番 google，终于找到了解决办法。这个问题倒也确实是挺 tricky。
在 Windows 上需要这样指定路径：
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">authorize</span>: c:/Users/demo/.ssh/id_rsa.pub

<span class="org-variable-name">keys</span>:
  - c:/Users/demo/.ssh/id_rsa
</pre>
</div>

<p>
下面开始划重点了：
</p>
<ol class="org-ol">
<li><b>不能使用 <code>~</code> 表示 HOME 目录，需要使用完整的路径，如 <code>c:/Users/demo/</code>;</b></li>
<li><b>磁盘分区标识符必须小写： 使用 <code>c</code> 而不是 <code>C</code>;</b></li>
<li><b>目录分割符必须使用斜杠 <code>/</code> 而不是反斜杠 <code>\</code>;</b></li>
</ol>

<p>
至于为什么一定要这么做，我也还是不清楚。
查了 <code>Virtual Box</code> 和 <code>Vagrant</code> 的文档也没找到相关问题的说明。
反正先这么用就对了。
有谁了解的，还请告知一下。
</p>
</div>
</section>
</div>
<div id="postamble" class="status">
<footer class="footer">
  <a href="https://github.com/demokn/blog">
    <p>
      Built with <img id="i-orgmode" src="https://demokn.github.io/blog/assets/images/orgmode.svg"/> in <img id="i-emacs" src="https://demokn.github.io/blog/assets/images/emacs.svg"/>
      <span id="view-source-link"> View Source </span>
    </p>
  </a>
</footer>
</div>
<div id="disqus_thread"></div>
<script>
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://coral-reef.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>
</div>
</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92899354-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-92899354-1');
</script>
<!-- Default Statcounter code -->
<script type="text/javascript">
var sc_project=11272126;
var sc_invisible=1;
var sc_security="cc0cb8d5";
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js"
async></script>
<noscript><div class="statcounter"><a title="Web Analytics"
href="https://statcounter.com/" target="_blank"><img
class="statcounter"
src="https://c.statcounter.com/11272126/0/cc0cb8d5/1/"
alt="Web Analytics"></a></div></noscript>
<!-- End of Statcounter Code -->
</body>
</html>
